{"version":3,"sources":["gellijs.js"],"names":["mql","window","matchMedia","h2s","document","querySelectorAll","allElementsHidden","removeBodyClasses","body","classList","remove","closeOtherOpenLIs","forEach","otherOpen","h2","small","setup","console","log","addEventListener","onClick","teardown","removeEventListener","e","add","getAttribute","parentElement","contains","closeSVGBtn","querySelector","large","mouseOver","mouseOut","mouseClick","open","call","close","closeSVGBtnPieces","TweenMax","from","drawSVG","delay","addListener","data","matches"],"mappings":";;AACA,IAAMA,MAAMC,OAAOC,UAAP,sBAAZ;;AAEA,IAAMC,MAAMC,SAASC,gBAAT,oBAAZ;AACA,IAAMC,oBAAoBF,SAASC,gBAAT,wBAA1B;;AAGA,IAAIE,oBAAoB,SAApBA,iBAAoB,GAAW;AAC/BH,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,aAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACH,CAPD;;AASA,IAAIC,oBAAoB,SAApBA,iBAAoB,GAAW;AAC/BP,aAASC,gBAAT,0BAAmDO,OAAnD,CAA2D,UAASC,SAAT,EAAoB;AAC3EA,kBAAUJ,SAAV,CAAoBC,MAApB,CAA2B,SAA3B;AACAG,kBAAUJ,SAAV,CAAoBC,MAApB,CAA2B,MAA3B;AACH,KAHD;AAIH,CALD;;AAQAP,IAAIS,OAAJ,CAAY,UAASE,EAAT,EAAa;;AAGrB,QAAIC,QAAQ;AACRC,eAAO,iBAAW;AACdC,oBAAQC,GAAR;AACAJ,eAAGK,gBAAH,UAA6BJ,MAAMK,OAAnC;AACH,SAJO;AAKRC,kBAAU,oBAAW;AACjBJ,oBAAQC,GAAR,CAAY,gBAAZ;AACAJ,eAAGQ,mBAAH,UAAgCP,MAAMK,OAAtC;AACH,SARO;AASRA,iBAAS,iBAASG,CAAT,EAAY;AACjBhB;AACAH,qBAASI,IAAT,CAAcC,SAAd,CAAwBe,GAAxB,CAA6B,KAAKC,YAAL,CAAkB,iBAAlB,CAA7B;;AAEA,gBAAI,CAACX,GAAGY,aAAH,CAAiBjB,SAAjB,CAA2BkB,QAA3B,WAAL,EAAoD;AAChDhB;AACAG,mBAAGY,aAAH,CAAiBjB,SAAjB,CAA2Be,GAA3B;AACAV,mBAAGY,aAAH,CAAiBjB,SAAjB,CAA2Be,GAA3B;AACApB,yBAASI,IAAT,CAAcC,SAAd,CAAwBe,GAAxB;;AAEA;AACAP,wBAAQC,GAAR;AACH,aARD,MAQQ;AACJJ,mBAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAI,mBAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAN,yBAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB;AACAN,yBAASI,IAAT,CAAcC,SAAd,CAAwBC,MAAxB,CAAgC,KAAKe,YAAL,CAAkB,iBAAlB,CAAhC;AACAR,wBAAQC,GAAR;AACH;AACJ;AA5BO,KAAZ;;AA+BA,QAAMU,cAAcd,GAAGY,aAAH,CAAiBG,aAAjB,cAApB;;AAEA,QAAIC,QAAQ;AACRd,eAAO,iBAAW;AACdC,oBAAQC,GAAR;AACAJ,eAAGK,gBAAH,CAAoB,WAApB,EAAiCW,MAAMC,SAAvC;AACAjB,eAAGK,gBAAH,CAAoB,UAApB,EAAgCW,MAAME,QAAtC;AACAlB,eAAGK,gBAAH,CAAoB,OAApB,EAA6BW,MAAMG,UAAnC;AACAL,wBAAYT,gBAAZ,CAA6B,OAA7B,EAAsCW,MAAMG,UAA5C;AAEH,SARO;AASRZ,kBAAU,oBAAW;AACjBJ,oBAAQC,GAAR;AACAJ,eAAGQ,mBAAH,CAAuB,WAAvB,EAAoCQ,MAAMC,SAA1C;AACAjB,eAAGQ,mBAAH,CAAuB,UAAvB,EAAmCQ,MAAME,QAAzC;AACAlB,eAAGQ,mBAAH,CAAuB,OAAvB,EAAgCQ,MAAMG,UAAtC;AACAL,wBAAYN,mBAAZ,CAAgC,OAAhC,EAAyCQ,MAAMG,UAA/C;AACH,SAfO;;AAiBRA,oBAAY,sBAAW;AACnB,gBAAI,CAACnB,GAAGY,aAAH,CAAiBjB,SAAjB,CAA2BkB,QAA3B,QAAL,EAAkD;AAC9CG,sBAAMI,IAAN,CAAWC,IAAX,CAAgB,IAAhB;AACH,aAFD,MAEO;AACHL,sBAAMM,KAAN,CAAYD,IAAZ,CAAiB,IAAjB;AACH;AACJ,SAvBO;;AAyBRD,cAAM,gBAAY;AACdjB,oBAAQC,GAAR,CAAY,iBAAZ;AACAP;AACAG,eAAGY,aAAH,CAAiBA,aAAjB,CAA+BjB,SAA/B,CAAyCe,GAAzC,oBAHc,CAGkD;AAChEV,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2Be,GAA3B,SAJc,CAIyB;AACvCV,eAAGQ,mBAAH,CAAuB,UAAvB,EAAmCQ,MAAME,QAAzC;;AAEA,gBAAIK,oBAAoBT,YAAYvB,gBAAZ,CAA6B,YAA7B,CAAxB;AACAiC,qBAASC,IAAT,CAAcF,iBAAd,EAAiC,GAAjC,EAAsC,EAACG,SAAS,SAAV,EAAqBC,OAAM,GAA3B,EAAtC;AACH,SAlCO;;AAoCRL,eAAO,iBAAW;AACdnB,oBAAQC,GAAR,CAAY,kBAAZ;AACAJ,eAAGY,aAAH,CAAiBA,aAAjB,CAA+BjB,SAA/B,CAAyCC,MAAzC,oBAFc,CAEqD;AACnEI,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAI,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAI,eAAGK,gBAAH,CAAoB,UAApB,EAAgCW,MAAME,QAAtC;AACAzB;AACH,SA3CO;;AA6CRwB,mBAAW,qBAAU;AACjBd,oBAAQC,GAAR,CAAY,OAAZ;AACAX;AACAH,qBAASI,IAAT,CAAcC,SAAd,CAAwBe,GAAxB,CAA6B,KAAKC,YAAL,CAAkB,iBAAlB,CAA7B;AACA,iBAAKC,aAAL,CAAmBjB,SAAnB,CAA6Be,GAA7B;AACH,SAlDO;;AAoDRQ,kBAAU,oBAAU;AAChBzB;AACA,iBAAKmB,aAAL,CAAmBjB,SAAnB,CAA6BC,MAA7B;AACH;AAvDO,KAAZ;;AA0DAV,QAAI0C,WAAJ,CAAgB,UAASC,IAAT,EAAe;AAC3B,YAAIA,KAAKC,OAAT,EAAkB;AACd3B,oBAAQC,GAAR;AACAJ,eAAGY,aAAH,CAAiBA,aAAjB,CAA+BjB,SAA/B,CAAyCC,MAAzC;AACAI,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAI,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAH;AACAuB,kBAAMT,QAAN;AACAN,kBAAMC,KAAN;AAEH,SATD,MASO;AACHC,oBAAQC,GAAR;AACAJ,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAI,eAAGY,aAAH,CAAiBjB,SAAjB,CAA2BC,MAA3B;AACAH;AACAQ,kBAAMM,QAAN;AACAS,kBAAMd,KAAN;AACH;AACJ,KAlBD;;AAoBA,QAAIhB,IAAI4C,OAAR,EAAiB;AACb7B,cAAMC,KAAN;AAEH,KAHD,MAGO;AACHc,cAAMd,KAAN;AACH;AAEJ,CAzHD","file":"gellijs.js","sourcesContent":["    \nconst mql = window.matchMedia(`(max-width: 640px)`);\n\nconst h2s = document.querySelectorAll(`.main-content h2`)\nconst allElementsHidden = document.querySelectorAll(`.main-content li, h1`)\n\n\nlet removeBodyClasses = function() {\n    document.body.classList.remove( `food` )\n    document.body.classList.remove( `bureau` )\n    document.body.classList.remove( `bar` )\n    document.body.classList.remove( `table` )\n    document.body.classList.remove( `location` )\n    document.body.classList.remove( `hours` )\n}\n\nlet closeOtherOpenLIs = function() {\n    document.querySelectorAll(`.main-content li.open`).forEach(function(otherOpen) {\n        otherOpen.classList.remove('preview')\n        otherOpen.classList.remove('open')\n    })\n}\n\n\nh2s.forEach(function(h2) {\n\n\n    let small = {\n        setup: function() {\n            console.log(`small setup`)\n            h2.addEventListener(`click`, small.onClick);\n        },\n        teardown: function() {\n            console.log(\"small teardown\")\n            h2.removeEventListener(`click`, small.onClick);\n        },\n        onClick: function(e) { \n            removeBodyClasses();\n            document.body.classList.add( this.getAttribute('data-body-class') )\n            \n            if (!h2.parentElement.classList.contains(`preview`)){ \n                closeOtherOpenLIs()\n                h2.parentElement.classList.add(`preview`)\n                h2.parentElement.classList.add(`open`)\n                document.body.classList.add(`pad-footer`)\n\n                // description.classList.add(`open`)\n                console.log(`open`)\n            }  else {\n                h2.parentElement.classList.remove(`preview`)\n                h2.parentElement.classList.remove(`open`)\n                document.body.classList.remove(`pad-footer`)\n                document.body.classList.remove( this.getAttribute('data-body-class') )\n                console.log(`close`)\n            }\n        },\n    }\n    \n    const closeSVGBtn = h2.parentElement.querySelector(`.close-svg`)\n\n    let large = {\n        setup: function() {\n            console.log(`large setup`)\n            h2.addEventListener('mouseover', large.mouseOver)\n            h2.addEventListener('mouseout', large.mouseOut)\n            h2.addEventListener('click', large.mouseClick)\n            closeSVGBtn.addEventListener('click', large.mouseClick)\n            \n        },\n        teardown: function() {\n            console.log(`large teardown`)\n            h2.removeEventListener('mouseover', large.mouseOver)\n            h2.removeEventListener('mouseout', large.mouseOut)\n            h2.removeEventListener('click', large.mouseClick)\n            closeSVGBtn.removeEventListener('click', large.mouseClick)\n        },\n\n        mouseClick: function() { \n            if (!h2.parentElement.classList.contains(`open`)) {\n                large.open.call(this)\n            } else {\n                large.close.call(this)\n            }\n        },\n\n        open: function () {\n            console.log('clicked to open')\n            closeOtherOpenLIs()\n            h2.parentElement.parentElement.classList.add(`a-child-is-open`) // the UL\n            h2.parentElement.classList.add(`open`) // the LI\n            h2.removeEventListener('mouseout', large.mouseOut)\n            \n            let closeSVGBtnPieces = closeSVGBtn.querySelectorAll(\"path, line\")\n            TweenMax.from(closeSVGBtnPieces, 0.7, {drawSVG: \"50% 50%\", delay:0.2});\n        },\n\n        close: function() {\n            console.log('clicked to close')\n            h2.parentElement.parentElement.classList.remove(`a-child-is-open`) // the UL\n            h2.parentElement.classList.remove(`open`)\n            h2.parentElement.classList.remove(`preview`)\n            h2.addEventListener('mouseout', large.mouseOut)\n            removeBodyClasses()\n        },\n        \n        mouseOver: function(){\n            console.log(\"hover\")\n            removeBodyClasses();\n            document.body.classList.add( this.getAttribute('data-body-class') )\n            this.parentElement.classList.add(`preview`)\n        },\n        \n        mouseOut: function(){\n            removeBodyClasses();\n            this.parentElement.classList.remove(`preview`)\n        },\n    }\n\n    mql.addListener(function(data) {\n        if (data.matches) {\n            console.log(`mql changed to small`)\n            h2.parentElement.parentElement.classList.remove(`a-child-is-open`)\n            h2.parentElement.classList.remove(`preview`)\n            h2.parentElement.classList.remove(`open`)\n            removeBodyClasses();\n            large.teardown()\n            small.setup()\n\n        } else {\n            console.log(`mql changed to large`)\n            h2.parentElement.classList.remove(`preview`)\n            h2.parentElement.classList.remove(`open`)\n            removeBodyClasses();\n            small.teardown()\n            large.setup()\n        }\n    })\n\n    if (mql.matches) {\n        small.setup()\n\n    } else {\n        large.setup()\n    }   \n    \n})\n"]}